import chellow.g_bill_parser_engie_edi


def test_Parser(mocker):
    edi_lines = (
        "STX=ANA:1+Marsh Gas:MARSH Gas Limited+BPAJA:"
        "Bill Paja 771+171023:867369+856123++UTLHDR'",
        "MHD=1+UTLHDR:3'",
        "TYP=0715'",
        "SDT=Marsh Gas+Marsh Gas Limited++818671845'",
        "CDT=BPAJA:BPAJA+Bill Paja Limited - BPAJA++1'",
        "FIL=1+1+171023'",
        "MTR=6'",
        "END=288'",
    )
    edi_bytes = "\n".join(edi_lines).encode("utf8")

    parser = chellow.g_bill_parser_engie_edi.Parser(edi_bytes)
    parser.make_raw_bills()


"""
STX=ANA:1+Marsh Gas:MARSH Gas Limited+BPAJA:Bill Paja 771+171023:867369+
    856123++UTLHDR'
MHD=1+UTLHDR:3'
TYP=0715'
SDT=Marsh Gas+Marsh Gas Limited++818671845'
CDT=BPAJA:BPAJA+Bill Paja Limited - BPAJA++1'
FIL=1+1+171023'
MTR=6'
MHD=2+UTLBIL:3'
CLO=::10205041+Bill Paja Limited+Mole Hall, BATH::BA1 9MH'
BCD=171022+171022+7868273476++M+N++170601:170630'
CCD=1+1::GAS+MARSH6:Meter Reading++hyygk4882+87614362+170701+170601++
    83551:01:81773:01+8746000+771000:M3+CF:102264+841349:M3++831200:KWH+170601+
    170701'
ADJ=1+1+CV:3930000'
CCD=2+3::PPK+MARSH6:Unidentified Gas++++++++8746000++CF:100000++008521+
    8746000+170601+170631+008727+091'
CCD=3+3::PPK+MARSH6:Commodity++++++++8746000++CF:100000++9873510+8746000+
    170601+170630+815510+9931'
CCD=4+3::PPD+MARSH6:Transportation++++++++30000++CF:100000++86221004+30000+
    170601+170630+86221004+9224'
CCD=5+3::PPD+MARSH6:Meter Reading++++++++30000++CF:100000++82113473+30000+
    170601+170630+8582284+941'
CCD=6+3::PPD+MARSH6:Meter Rental++++++++30000++CF:100000++3228000+30000+170601+
    170630+8993000+841'
CCD=7+3::PPK+MARSH6:Transportation++++++++8116500++CF:100000++005337+4617800+
    170601+170630+006120+882'
VAT=1+++L+7986+23885+331+86334'
BTL=000+88772+332++77345'
MTR=14'
MHD=2+UTLBIL:3'
CLO=::10205041+Bill Paja Limited+Mole Hall, BATH::BA1 9MH'
BCD=171022+171022+7868273476++M+N++170601:170630'
CCD=1+1::GAS+MARSH6:Meter Reading++hyygk4882+87614362+170701+170601++
    83551:01:81773:01+8746000+771000:M3+CF:102264+841349:M3++831200:KWH+
    170601+170701'
ADJ=1+1+CV:3930000'
CCD=2+3::PPK+MARSH6:Unidentified Gas++++++++8746000++CF:100000++008521+
    8746000+170601+170631+008727+091'
CCD=3+3::PPK+MARSH6:Commodity++++++++8746000++CF:100000++9873510+8746000+
    170601+170630+815510'
CCD=4+3::PPD+MARSH6:Transportation++++++++30000++CF:100000++86221004+30000+
    170601+170630+86221004+9224'
CCD=5+3::PPD+MARSH6:Meter Reading++++++++30000++CF:100000++82113473+30000+
    170601+170630+8582284+941'
CCD=6+3::PPD+MARSH6:Meter Rental++++++++30000++CF:100000++3228000+30000+170601+
    170630+8993000+841'
CCD=7+3::PPK+MARSH6:Transportation++++++++8116500++CF:100000++005337+4617800+
    170601+170630+006120+882'
VAT=1+++L+7986+23885+331+86334'
BTL=000+88772+332++77345'
MTR=14'
END=288'
"""
