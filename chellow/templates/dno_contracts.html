{% extends "base.html" %}

{% block title %}
	&raquo; DNO Contracts
{% endblock %}

{% block nav %}
	DNO Contracts
{% endblock %}

{% block content %}
	<div class="layer-section">
		<div class="section-header">
			<h2>DNO Contracts</h2>	
		</div>
		<div class="section-content">
			<div class="section-data">
				<table class="DataTable widthAuto noMarginBottom">
					<thead>
						<tr>
							<th>Code</th>
							<th>Name</th>
							<th>Start Date</th>
							<th>Finish Date</th>
						</tr>
					</thead>
					<tbody>
						{% for contract in dno_contracts %}
							<tr>
								<td>
									<a
									 		href="/dno_contracts/{{contract.contract.id}}"
											>{{contract.contract.name}}</a>
								</td>
								<td>{{contract.contract.party.name}}</td>
								<td>{{contract.start_date|hh_format}}</td>
								<td>{{contract.finish_date|hh_format}}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
		<div class="section-header">
			<h2>DNO Rate Parser</h2>	
		</div>
		<div class="section-content">
			<div class="section-data">
				<div class="standardForm">
					<form
							enctype="multipart/form-data" method="post"
							action="/reports/dno_rate_parser">
						<fieldset>
							<input
									type="file" name="dno_file" size="45"
									value="{{request.values.import_file}}">
							<select name="gsp_group_id">
							{% for gsp_group in gsp_groups %}
								{{input_option('gsp_group_id', gsp_group.id, gsp_group.code + ': ' + gsp_group.description)}}
							{% endfor %}
							</select>
							LLFC tab {{input_text('llfc_tab', 1)}}<br>
							LAF tab {{input_text('laf_tab', 7)}}<br>
							<input type="submit" value="Parse">
						</fieldset>
					</form>
					<p>
						This gadget takes a DNO rate spreadsheet and outputs the rates in
					 	the Chellow ion format.
					</p>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
